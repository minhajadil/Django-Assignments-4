{% extends "base.html" %}

{% block content  %}

<div class="d-flex flex-wrap justify-content-center px-5 pt-5">

  {% for tasks in db %}

  <div class="col-sm-4">
    <div class="card mx-2">
      <div  class="card-body">
        <h5 class="card-title">{{tasks.task_Title}}</h5>
        <p class="card-text"> {{tasks.task_Description | truncatechars:100 }}   </p>
        <h5>Assigned Date : {{tasks.Task_Assign_date}}</h5>
        <div class="mt-3 d-flex gap-2  ">
        <h5 >Categories:</h5>
        {% for cat in tasks.category.all %}

        <button class ="btn btn-primary"> {{cat.Category_Name}} </button>

        {% endfor %}
    </div>
        <br>
        
        {% if not tasks.is_Completed %}

        <div class='d-flex gap-3  mt-3  '>
        <a class="btn btn-warning " href="{% url 'edit_task' tasks.id %}"> Edit </a>
        <a class="btn btn-danger " href="{% url 'delete_task' tasks.id %}"> Delete </a> 
        <a class="btn btn-success " href="{% url 'mark_task' tasks.id %}"> Mark Completed </a> 


        </div>

        

       

        {% else %}
            <button class="btn btn-large btn-success p-2   ">Completed</button>

      
        
        {% endif %}

        


      </div>
    </div>
  </div>


  {% endfor %}
    

  </div>







 {% endblock content %}
